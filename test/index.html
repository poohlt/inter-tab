<!DOCTYPE html>
<html>
<head>
  <script src = "../index.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <title>Inter-tab communication using local storage</title>
</head>
<body style="">
  <h1>Broadcasts</h1>
  <p id="broadcasts"></p>
  <h1>Messages</h1>
  <p id="messages"></p>
  <script type="text/javascript" charset="utf-8">
    // var wc = new WindowController();
    // wc.logMessage = function ( data ) {
    //   data.text;
    // };
    // wc.masterDidChange();
    // var input = $( 'input' );
    // function broadcast () {
    //     var value = input.value;
    //     input.value = '';
    //     if ( value ) {
    //       wc.broadcast( 'logMessage', { text: value });
    //     }
    // };
    var test = new Manager();
    test.onBroadcast = function (data){
      var stuff = data.value;
      $('#broadcasts').append("\n Broadcast Recieved:   ");
      $('#broadcasts').append(stuff);
    };
    test.onMessage = function (data){
      debugger;
      var stuff = data.value;
      $('#broadcasts').append("\n Broadcast Recieved:   ");
      $('#broadcasts').append(stuff);
    };
  </script>
</body>
</html>